<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEFL ITP Structure: Set 9 (Level 2)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;600&family=Sarabun:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="bg-slate-100 min-h-screen flex items-center justify-center p-4">

    <div class="bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden border border-slate-200 flex flex-col max-h-[95vh]" id="app-container">
        
        <div id="header-slot"></div>

        <div class="w-full bg-gray-100 h-1.5 flex-none">
            <div class="bg-blue-500 h-1.5 transition-all duration-300 ease-out" style="width: 0%" id="progress-bar"></div>
        </div>

        <div class="p-6 overflow-y-auto flex-grow rationale-scroll" id="content-area">
            <div id="quiz-content-placeholder" class="text-center text-gray-400 py-10">Loading Quiz...</div>
        </div>

        <div id="footer-slot"></div>
    </div>

    <script>
        // 1. ตั้งค่าหัวข้อและสี (ปรับตามความยากง่ายตรงนี้)
        const quizConfig = {
            title: "TOEFL Structure (Intermediate)",
            subtitle: "Set 9: Intermediate Structure & Word Order (Level 2)",
            
            // สีพื้นหลัง (เช่น bg-blue-700, bg-yellow-600, bg-red-700)
            headerColorClass: "bg-yellow-600", 
            
            // สีของตกแต่งอื่นๆ
            accentColorClass: "text-yellow-100", 
            scoreTitleClass: "text-yellow-200"
        };

        // 2. ข้อมูลคำถาม
        const quizData = [
            {
                question: "The cost of living in these urban areas __________ high.",
                translation: "ค่าครองชีพในพื้นที่เมืองเหล่านี้ ______ สูง",
                vocab: [
                    "<b>Cost</b> (N): ราคา, ค่าใช้จ่าย",
                    "<b>Urban</b> (Adj): ในเมือง"
                ],
                options: [
                    { text: "is", correct: true, rationale: "ประธานหลักคือ <b>The cost</b> (เอกพจน์) ไม่ใช่ <i>areas</i> (ซึ่งอยู่ในบุพบทวลี) ดังนั้นกริยาต้องเป็นเอกพจน์คือ <b>is</b> ครับ" },
                    { text: "are", correct: false, rationale: "<b>ผิดพจน์ (Agreement Error):</b> หลงกลคำว่า <i>areas</i> (พหูพจน์) ที่อยู่ข้างหน้า แต่ประธานจริงๆ คือ <i>The cost</i> ครับ" },
                    { text: "being", correct: false, rationale: "<b>กริยาไม่แท้:</b> <i>Being</i> ลอยๆ ไม่สามารถเป็นกริยาหลัก (Main Verb) ของประโยคได้ครับ" },
                    { text: "to be", correct: false, rationale: "<b>กริยาไม่แท้:</b> Infinitive (to be) ไม่สามารถทำหน้าที่เป็นกริยาหลักได้ครับ" }
                ]
            },
            {
                question: "__________, the largest planet in our solar system, is composed mostly of gas.",
                translation: "______, ดาวเคราะห์ที่ใหญ่ที่สุดในระบบสุริยะของเรา ประกอบด้วยก๊าซเป็นส่วนใหญ่",
                vocab: [
                    "<b>Planet</b> (N): ดาวเคราะห์",
                    "<b>Compose</b> (V): ประกอบด้วย (be composed of)"
                ],
                options: [
                    { text: "Jupiter", correct: true, rationale: "ประโยคนี้ขาด <b>ประธาน (Subject)</b> ครับ โดยมีส่วนขยาย (Appositive) อยู่ด้านหลัง คือ 'the largest planet...'" },
                    { text: "It is Jupiter", correct: false, rationale: "<b>Comma Splice:</b> การเอาประโยคเต็ม (It is...) มาวางหน้าประโยคหลักแล้วคั่นด้วยคอมม่าเฉยๆ ผิดไวยากรณ์ครับ" },
                    { text: "Jupiter is", correct: false, rationale: "<b>กริยาซ้อน:</b> ถ้าเลือกข้อนี้ จะมีกริยา <i>is</i> สองตัวชนกันโดยไม่มีคำเชื่อมครับ" },
                    { text: "Although Jupiter", correct: false, rationale: "<b>ผิดโครงสร้าง:</b> <i>Although</i> ต้องตามด้วยประโยค (Clause) แต่ส่วนหลังเป็นแค่นามวลีครับ" }
                ]
            },
            {
                question: "The man __________ the report is my colleague.",
                translation: "ผู้ชายที่ ______ รายงานอยู่คือเพื่อนร่วมงานของฉัน",
                vocab: [
                    "<b>Colleague</b> (N): เพื่อนร่วมงาน",
                    "<b>Write</b> (V): เขียน"
                ],
                options: [
                    { text: "writing", correct: true, rationale: "นี่คือ <b>Present Participle</b> (V-ing) ลดรูปมาจาก 'who is writing' ขยาย The man ในฐานะผู้กระทำ (Active Voice)" },
                    { text: "writes", correct: false, rationale: "<b>กริยาซ้อน:</b> ถ้าใส่ <i>writes</i> จะชนกับกริยาแท้ <i>is</i> ของประโยคหลักครับ" },
                    { text: "written", correct: false, rationale: "<b>ผิดความหมาย:</b> <i>Written</i> (V3) แปลว่า 'ถูกเขียน' (Passive) ผู้ชายถูกเขียนไม่ได้ครับ" },
                    { text: "is writing", correct: false, rationale: "<b>กริยาซ้อน:</b> จะทำให้มีกริยาแท้ 2 ตัวโดยไม่มีคำเชื่อม Relative Pronoun (who) ครับ" }
                ]
            },
            {
                question: "The results __________ in the study were conclusive.",
                translation: "ผลลัพธ์ที่ ______ ในการศึกษานั้นเป็นที่สิ้นสุด (เชื่อถือได้)",
                vocab: [
                    "<b>Result</b> (N): ผลลัพธ์",
                    "<b>Publish</b> (V): ตีพิมพ์"
                ],
                options: [
                    { text: "published", correct: true, rationale: "นี่คือ <b>Past Participle</b> (V3) ลดรูปมาจาก 'which were published' ขยาย The results ในฐานะผู้ถูกกระทำ (Passive Voice)" },
                    { text: "publishing", correct: false, rationale: "<b>ผิดความหมาย:</b> ผลลัพธ์ไม่สามารถ 'ตีพิมพ์' ตัวเองได้ครับ ต้อง 'ถูกตีพิมพ์'" },
                    { text: "were published", correct: false, rationale: "<b>กริยาซ้อน:</b> ถ้าใส่ <i>were</i> จะชนกับกริยาแท้ <i>were conclusive</i> ด้านหลังครับ" },
                    { text: "publish", correct: false, rationale: "<b>ผิดหน้าที่คำ:</b> เป็นกริยาช่อง 1 วางตรงนี้ไม่ได้ครับ" }
                ]
            },
            {
                question: "They reached a __________ agreement.",
                translation: "พวกเขาบรรลุข้อตกลง ______",
                vocab: [
                    "<b>Agreement</b> (N): ข้อตกลง",
                    "<b>Beneficial</b> (Adj): เป็นประโยชน์"
                ],
                options: [
                    { text: "mutually beneficial", correct: true, rationale: "ลำดับคำที่ถูกต้อง: <b>Adverb (mutually) + Adjective (beneficial) + Noun (agreement)</b>" },
                    { text: "beneficial mutually", correct: false, rationale: "<b>ผิดลำดับ:</b> Adverb ต้องวางหน้า Adjective ที่มันขยายครับ" },
                    { text: "mutual beneficial", correct: false, rationale: "<b>ผิดหน้าที่คำ:</b> <i>Mutual</i> เป็น Adjective ไม่ควรขยาย Adjective ด้วยกันเอง (ต้องใช้ Adverb)" },
                    { text: "benefit mutual", correct: false, rationale: "<b>ผิดโครงสร้าง:</b> ใช้คำนาม (benefit) มาขยายในตำแหน่งนี้ไม่เหมาะสมครับ" }
                ]
            },
            {
                question: "__________ the traffic, we arrived on time.",
                translation: "______ การจราจร (ที่ติดขัด) พวกเราก็มาถึงตรงเวลา",
                vocab: [
                    "<b>Traffic</b> (N): การจราจร",
                    "<b>Arrive</b> (V): มาถึง"
                ],
                options: [
                    { text: "Despite", correct: true, rationale: "ต้องการ <b>Preposition</b> ที่แสดงความขัดแย้ง เพื่อนำหน้า Noun Phrase (the traffic)" },
                    { text: "Although", correct: false, rationale: "<b>ผิดไวยากรณ์:</b> <i>Although</i> ต้องตามด้วยประโยค (S + V) ครับ" },
                    { text: "However", correct: false, rationale: "<b>ผิดไวยากรณ์:</b> <i>However</i> เป็นคำเชื่อมประโยค (Adverb) ไม่ใช้วางหน้านามแบบนี้ครับ" },
                    { text: "Because", correct: false, rationale: "<b>ผิดความหมาย:</b> <i>Because</i> บอกเหตุผล (เพราะรถติดจึงมาทัน? ไม่สมเหตุสมผล) และต้องตามด้วย S+V" }
                ]
            },
            {
                question: "The manager did not explain __________.",
                translation: "ผู้จัดการไม่ได้อธิบาย ______",
                vocab: [
                    "<b>Explain</b> (V): อธิบาย",
                    "<b>Leave</b> (V): จากไป, ทิ้ง"
                ],
                options: [
                    { text: "why he left", correct: true, rationale: "นี่คือ <b>Noun Clause</b> ทำหน้าที่เป็นกรรมของ explain ลำดับคำต้องเป็น <b>Connector (why) + Subject (he) + Verb (left)</b>" },
                    { text: "why did he leave", correct: false, rationale: "<b>ผิดลำดับ:</b> นี่คือรูปประโยคคำถาม (Question word order) ใน Noun Clause ต้องเรียงแบบบอกเล่าครับ" },
                    { text: "he left why", correct: false, rationale: "<b>ผิดลำดับ:</b> ตัวเชื่อม (Connector) ต้องอยู่ข้างหน้าครับ" },
                    { text: "why left he", correct: false, rationale: "<b>ผิดลำดับ:</b> ประธานต้องมาก่อนกริยาใน Noun Clause ครับ" }
                ]
            },
            {
                question: "The seminar was informative, engaging, and __________.",
                translation: "งานสัมมนานั้นให้ข้อมูลดี, น่าสนใจ, และ ______",
                vocab: [
                    "<b>Seminar</b> (N): งานสัมมนา",
                    "<b>Enjoy</b> (V): เพลิดเพลิน"
                ],
                options: [
                    { text: "enjoyable", correct: true, rationale: "<b>Parallel Structure (โครงสร้างขนาน):</b> คำก่อนหน้าเป็น Adjective (informative, engaging) คำนี้ก็ต้องเป็น <b>Adjective</b> ครับ" },
                    { text: "enjoy", correct: false, rationale: "<b>ผิดหน้าที่คำ:</b> เป็น Verb ครับ" },
                    { text: "enjoyment", correct: false, rationale: "<b>ผิดหน้าที่คำ:</b> เป็น Noun ครับ" },
                    { text: "enjoyably", correct: false, rationale: "<b>ผิดหน้าที่คำ:</b> เป็น Adverb ครับ" }
                ]
            },
            {
                question: "She bought a __________ vase.",
                translation: "เธอซื้อแจกัน ______",
                vocab: [
                    "<b>Vase</b> (N): แจกัน",
                    "<b>Antique</b> (Adj/N): โบราณ, วัตถุโบราณ"
                ],
                options: [
                    { text: "beautiful antique", correct: true, rationale: "ลำดับ Adjective: <b>Opinion (beautiful) + Age/Type (antique) + Noun (vase)</b>" },
                    { text: "antique beautiful", correct: false, rationale: "<b>ผิดลำดับ:</b> ความเห็น (Opinion) ต้องมาก่อนข้อเท็จจริง/อายุ (Fact/Age) ครับ" },
                    { text: "beauty antique", correct: false, rationale: "<b>ผิดหน้าที่คำ:</b> <i>Beauty</i> เป็น Noun ครับ" },
                    { text: "beautifully antique", correct: false, rationale: "<b>ความหมายเปลี่ยน:</b> แปลว่า 'โบราณอย่างสวยงาม' ซึ่งปกติเราจะขยายแจกันว่า 'สวยและโบราณ' มากกว่าครับ" }
                ]
            },
            {
                question: "__________ several reasons for his decision.",
                translation: "______ หลายเหตุผลสำหรับการตัดสินใจของเขา",
                vocab: [
                    "<b>Reason</b> (N): เหตุผล",
                    "<b>Decision</b> (N): การตัดสินใจ"
                ],
                options: [
                    { text: "There are", correct: true, rationale: "ประโยคนี้ต้องการโครงสร้าง <b>There + be</b> (มี) และประธานคือ <i>reasons</i> (พหูพจน์) จึงต้องใช้ <b>There are</b>" },
                    { text: "There is", correct: false, rationale: "<b>ผิดพจน์:</b> ใช้กับคำนามเอกพจน์ครับ" },
                    { text: "They are", correct: false, rationale: "<b>ผิดความหมาย:</b> <i>They are</i> แปลว่า 'พวกมันคือ' แต่บริบทนี้ต้องการบอกว่า 'มี' (Existence)" },
                    { text: "Are there", correct: false, rationale: "<b>ผิดรูปประโยค:</b> นี่คือรูปประโยคคำถามครับ" }
                ]
            }
        ];
    </script>

    <script src="assets/js/script.js"></script>
</body>
</html>