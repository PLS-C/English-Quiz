<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEFL ITP Structure Quizzes</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f6f8fa;
            color: #24292f;
        }
        h1 {
            border-bottom: 1px solid #d0d7de;
            padding-bottom: 10px;
            color: #0969da;
        }
        .loading {
            color: #666;
            font-style: italic;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            background: white;
            margin-bottom: 8px;
            border: 1px solid #d0d7de;
            border-radius: 6px;
            transition: 0.2s;
        }
        li:hover {
            border-color: #0969da;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        a {
            display: block;
            padding: 15px 20px;
            text-decoration: none;
            color: #24292f;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        a:hover {
            color: #0969da;
        }
        .file-icon {
            margin-right: 10px;
            color: #6e7781;
        }
    </style>
</head>
<body>

    <h1>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö (Structure)</h1>
    
    <ul id="quiz-list">
        <li class="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö...</li>
    </ul>

    <script>
        // --- ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ) ---
        const username = 'PLS-C';  // ‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠ GitHub User ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏à‡∏≤‡∏Å‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô PLS-C)
        const repo = 'English-Quiz'; // ‡∏ä‡∏∑‡πà‡∏≠ Repository
        const folderPath = 'TOEFL_ITP_Section2-Structure'; // ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå
        // --------------------------------

        const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${folderPath}`;
        const listContainer = document.getElementById('quiz-list');

        async function fetchQuizzes() {
            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠');
                
                const files = await response.json();
                
                // ‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏≠‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå .html ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤‡πÑ‡∏ü‡∏•‡πå index.html ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
                const quizFiles = files.filter(file => 
                    file.name.endsWith('.html') && 
                    file.name.toLowerCase() !== 'index.html'
                );

                listContainer.innerHTML = ''; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° Loading

                if (quizFiles.length === 0) {
                    listContainer.innerHTML = '<li style="padding:15px;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</li>';
                    return;
                }

                // ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏™‡∏£‡πâ‡∏≤‡∏á Link
                quizFiles.forEach(file => {
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    
                    // ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (Relative path)
                    link.href = file.name; 
                    
                    // ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° (‡∏ï‡∏±‡∏î .html ‡∏≠‡∏≠‡∏Å ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô - ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ)
                    const displayName = file.name.replace('.html', '').replace(/-/g, ' ');
                    
                    link.innerHTML = `
                        <span>üìÑ ${displayName}</span>
                        <span style="font-size:0.8em; color:#666;">üîó ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</span>
                    `;
                    
                    listItem.appendChild(link);
                    listContainer.appendChild(listItem);
                });

            } catch (error) {
                console.error(error);
                listContainer.innerHTML = `<li style="padding:15px; color:red;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${error.message}<br>‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠ User/Repo ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î</li>`;
            }
        }

        fetchQuizzes();
    </script>
</body>
</html>