<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEFL ITP Basics: Level 1 (Review Mode)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        body { font-family: 'Noto Sans Thai', sans-serif; }
        .option-btn { transition: all 0.2s; }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom Scrollbar for rationale area */
        .rationale-scroll::-webkit-scrollbar { width: 6px; }
        .rationale-scroll::-webkit-scrollbar-track { background: #f1f1f1; }
        .rationale-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .rationale-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-100 min-h-screen flex items-center justify-center p-4">

    <div class="bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden border border-slate-200 flex flex-col max-h-[90vh]" id="app-container">
        
        <!-- Header -->
        <div class="bg-indigo-600 p-5 text-white flex-none relative overflow-hidden">
            <div class="relative z-10 flex justify-between items-center">
                <div>
                    <h1 class="text-xl font-bold flex items-center gap-2">
                        <i class="ph ph-exam text-2xl"></i> TOEFL ITP Practice
                    </h1>
                    <p class="text-indigo-100 text-xs mt-1">Level 1: Sentence Structure Basics</p>
                </div>
                <div class="text-right">
                    <div class="text-xs text-indigo-200 uppercase tracking-wide">Score</div>
                    <div class="text-2xl font-bold" id="score-display">0</div>
                </div>
            </div>
            <!-- Decorative circle -->
            <div class="absolute -bottom-8 -right-8 w-32 h-32 bg-indigo-500 rounded-full opacity-30 blur-xl"></div>
        </div>

        <!-- Progress Bar -->
        <div class="w-full bg-gray-100 h-1.5 flex-none">
            <div class="bg-indigo-400 h-1.5 transition-all duration-300 ease-out" style="width: 0%" id="progress-bar"></div>
        </div>

        <!-- Scrollable Content Area -->
        <div class="p-6 overflow-y-auto flex-grow rationale-scroll" id="content-area">
            
            <!-- Question View -->
            <div id="question-view" class="fade-in">
                <div class="flex justify-between items-center mb-4">
                    <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-bold tracking-wide" id="question-count">QUESTION 1/10</span>
                </div>

                <h2 class="text-lg text-gray-800 mb-6 font-medium leading-relaxed" id="question-text">
                    Loading...
                </h2>

                <div class="space-y-3" id="options-container">
                    <!-- Options injected via JS -->
                </div>

                <!-- Feedback Area -->
                <div id="feedback-area" class="hidden mt-6 rounded-xl border overflow-hidden fade-in shadow-sm">
                    <div class="p-4" id="feedback-header">
                        <div class="flex items-center gap-2 font-bold text-lg" id="feedback-title"></div>
                    </div>
                    <div class="p-5 bg-gray-50 border-t border-gray-100 text-gray-700 text-sm leading-relaxed space-y-3" id="feedback-content">
                        <!-- Rationale injected via JS -->
                    </div>
                </div>
            </div>

            <!-- Result View -->
            <div id="result-view" class="hidden text-center py-8 fade-in h-full flex flex-col justify-center">
                <div class="mb-6 inline-block p-4 rounded-full bg-indigo-50 text-indigo-600">
                    <i class="ph ph-trophy text-6xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Quiz Completed!</h2>
                <p class="text-gray-500 mb-8">‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                
                <div class="flex justify-center items-center mb-8">
                    <div class="bg-white px-10 py-6 rounded-2xl border border-gray-200 shadow-sm">
                        <span class="block text-gray-400 text-xs uppercase tracking-wider font-bold mb-1">Total Score</span>
                        <div class="flex items-baseline gap-1">
                            <span id="final-score" class="text-5xl font-bold text-indigo-600"></span>
                            <span class="text-gray-400 text-2xl font-medium">/ 10</span>
                        </div>
                    </div>
                </div>

                <div id="message-result" class="text-lg mb-8 font-medium text-gray-700"></div>
                
                <div class="flex gap-3 justify-center">
                    <button onclick="reviewAnswers()" class="px-6 py-2.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium transition flex items-center gap-2">
                        <i class="ph ph-eye"></i> Review Answers
                    </button>
                    <button onclick="restartQuiz()" class="px-6 py-2.5 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 font-medium transition shadow-md hover:shadow-lg flex items-center gap-2">
                        <i class="ph ph-arrow-counter-clockwise"></i> Try Again
                    </button>
                </div>
            </div>

        </div>

        <!-- Footer / Navigation Controls -->
        <div class="bg-gray-50 p-4 border-t border-gray-200 flex justify-between items-center flex-none" id="footer-controls">
            <button id="prev-btn" onclick="prevQuestion()" class="hidden px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-200 hover:text-gray-800 transition font-medium text-sm flex items-center gap-2 disabled:opacity-50">
                <i class="ph ph-arrow-left"></i> Back
            </button>

            <!-- Spacer if prev button hidden -->
            <div id="spacer" class="hidden"></div>

            <button id="next-btn" onclick="nextQuestion()" class="hidden bg-gray-800 text-white px-6 py-2.5 rounded-lg hover:bg-gray-900 transition font-medium text-sm flex items-center gap-2 shadow-sm">
                Next <i class="ph ph-arrow-right"></i>
            </button>
        </div>
    </div>

    <script>
        // Data Set: Level 1
        // Rationale: ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö ‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥‡πÄ‡∏¢‡∏¥‡πà‡∏ô‡πÄ‡∏¢‡πâ‡∏≠‡∏≠‡∏≠‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
        const quizData = [
            {
                question: "The library contains a __________ of historical documents.",
                options: [
                    { 
                        text: "collection large rare", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö:</b> ‡πÄ‡∏≠‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏° (collection) ‡∏°‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ñ‡∏≥‡∏Ç‡∏¢‡∏≤‡∏¢ (Adjective) ‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡πÄ‡∏™‡∏°‡∏≠" 
                    },
                    { 
                        text: "large rare collection", 
                        correct: true, 
                        rationale: "‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á Adjective ‡∏ï‡∏≤‡∏°‡∏Å‡∏é: <b>Size (‡∏Ç‡∏ô‡∏≤‡∏î)</b> ‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô <b>Quality (‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞)</b> ‡∏Ñ‡∏£‡∏±‡∏ö<br><br>1. <b>large</b> (‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà) = Size<br>2. <b>rare</b> (‡∏´‡∏≤‡∏¢‡∏≤‡∏Å) = Quality<br>3. <b>collection</b> (‡∏Ç‡∏≠‡∏á‡∏™‡∏∞‡∏™‡∏°) = Noun<br><br>üëâ ‡∏à‡∏∂‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤: <i>large rare collection</i>" 
                    },
                    { 
                        text: "rare large collection", 
                        correct: false, 
                        rationale: "<b>‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</b> ‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏ö‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î (Size: large) ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏ö‡∏≠‡∏Å‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞ (Quality: rare) ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "collection of large rare", 
                        correct: false, 
                        rationale: "<b>‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå:</b> <i>large rare</i> ‡πÄ‡∏õ‡πá‡∏ô Adjective ‡∏•‡∏≠‡∏¢‡πÜ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡∏°‡∏≤‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ collection ‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß)" 
                    }
                ]
            },
            {
                question: "__________ is a primary component of the Earth's atmosphere.",
                options: [
                    { 
                        text: "Nitrogen", 
                        correct: true, 
                        rationale: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏Ñ‡∏∑‡∏≠ <i>is</i> ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏Ç‡∏≤‡∏î <b>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô (Subject)</b> ‡∏Ñ‡∏£‡∏±‡∏ö<br>‚Ä¢ <b>Nitrogen</b> ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏° (Noun) ‡∏à‡∏∂‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÅ‡∏•‡∏∞‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "That nitrogen", 
                        correct: false, 
                        rationale: "<b>‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô:</b> ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ <i>That</i> ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Noun Clause ‡∏ã‡∏∂‡πà‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "Nitrogen gas it", 
                        correct: false, 
                        rationale: "<b>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏ã‡πâ‡∏≠‡∏ô (Double Subject):</b> ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <i>Nitrogen gas</i> ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà <i>it</i> ‡∏ã‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "Although nitrogen", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥:</b> <i>Although</i> ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ (Connector) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "The new software program __________ extremely efficient.",
                options: [
                    { 
                        text: "is", 
                        correct: true, 
                        rationale: "‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ (Verb) ‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö<br>‚Ä¢ ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠ <b>program</b> (‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå/Singular)<br>‚Ä¢ ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏à‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ <b>is</b> (‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå)<br>‡∏™‡πà‡∏ß‡∏ô <i>software</i> ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "are", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏û‡∏à‡∏ô‡πå:</b> <i>are</i> ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå ‡πÅ‡∏ï‡πà program ‡πÉ‡∏ô‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "being", 
                        correct: false, 
                        rationale: "<b>‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏ó‡πâ:</b> <i>being</i> ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ is/am/are/was/were ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤ ‡∏à‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "to be", 
                        correct: false, 
                        rationale: "<b>‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏ó‡πâ:</b> <i>to be</i> ‡πÄ‡∏õ‡πá‡∏ô Infinitive ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "Biologists often use __________ to observe cells.",
                options: [
                    { 
                        text: "electronic microscopes powerful", 
                        correct: false, 
                        rationale: "<b>‡∏ß‡∏≤‡∏á‡∏ú‡∏¥‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</b> Adjective (powerful) ‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏° (microscopes) ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "microscopes powerful electronic", 
                        correct: false, 
                        rationale: "<b>‡∏ß‡∏≤‡∏á‡∏ú‡∏¥‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</b> ‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å (microscopes) ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "powerful electronic microscopes", 
                        correct: true, 
                        rationale: "‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á Adjective:<br>1. <b>Opinion (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô/‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û):</b> powerful (‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á)<br>2. <b>Type (‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó):</b> electronic (‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå)<br>3. <b>Noun:</b> microscopes<br><br>‡∏Ñ‡∏≥‡∏ö‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏¥‡∏î‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "electronic powerful microscopes", 
                        correct: false, 
                        rationale: "<b>‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</b> ‡∏Ñ‡∏≥‡∏ö‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (Type: electronic) ‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏¥‡∏î‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (Opinion: powerful) ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "The rapid growth of the city __________ traffic congestion.",
                options: [
                    { 
                        text: "causing", 
                        correct: false, 
                        rationale: "<b>‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ó‡πâ:</b> V-ing (causing) ‡∏•‡∏≠‡∏¢‡πÜ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡πá‡∏ô Main Verb ‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "causes", 
                        correct: true, 
                        rationale: "‚Ä¢ ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠ <b>growth</b> (‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï) ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏≤‡∏°‡∏ô‡∏±‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡∏ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå)<br>‚Ä¢ ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ Present Simple ‡∏à‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏° s ‡πÄ‡∏õ‡πá‡∏ô <b>causes</b> ‡∏Ñ‡∏£‡∏±‡∏ö<br>(‡∏£‡∏∞‡∏ß‡∏±‡∏á: ‡∏≠‡∏¢‡πà‡∏≤‡∏ú‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <i>city</i> ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö)" 
                    },
                    { 
                        text: "cause", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏û‡∏à‡∏ô‡πå:</b> <i>cause</i> (‡πÑ‡∏°‡πà‡πÄ‡∏ï‡∏¥‡∏° s) ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå ‡πÅ‡∏ï‡πà growth ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "which causes", 
                        correct: false, 
                        rationale: "<b>‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå:</b> ‡∏ñ‡πâ‡∏≤‡πÉ‡∏™‡πà <i>which</i> ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Relative Clause ‡πÅ‡∏•‡∏∞‡∏Ç‡∏≤‡∏î‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "A __________ requires precise measurements.",
                options: [
                    { 
                        text: "chemist experiment", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:</b> <i>Chemist</i> ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤ '‡∏ô‡∏±‡∏Å‡πÄ‡∏Ñ‡∏°‡∏µ' (‡∏Ñ‡∏ô) ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "chemistry experiment", 
                        correct: true, 
                        rationale: "‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ <b>Compound Noun (‡∏ô‡∏≤‡∏°‡∏ú‡∏™‡∏°)</b> ‡∏Ñ‡∏£‡∏±‡∏ö<br>‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏° <b>chemistry</b> (‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏Ñ‡∏°‡∏µ) ‡∏°‡∏≤‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏° <b>experiment</b> (‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "experiment chemistry", 
                        correct: false, 
                        rationale: "<b>‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</b> ‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡∏ï‡∏±‡∏ß‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "chemical experiment of", 
                        correct: false, 
                        rationale: "<b>‡πÑ‡∏ß‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏ú‡∏¥‡∏î:</b> ‡∏°‡∏µ preposition <i>of</i> ‡∏´‡πâ‡∏≠‡∏¢‡∏ó‡πâ‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏£‡∏£‡∏°‡∏°‡∏≤‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "The director submitted a __________ report to the board.",
                options: [
                    { 
                        text: "complete usually", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö:</b> Adverb (usually) ‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ Adjective (complete) ‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "usually complete", 
                        correct: true, 
                        rationale: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠ <b>Adverb + Adjective + Noun</b> ‡∏Ñ‡∏£‡∏±‡∏ö<br>‚Ä¢ <b>usually</b> (Adv) ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <b>complete</b><br>‚Ä¢ <b>complete</b> (Adj) ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <b>report</b>" 
                    },
                    { 
                        text: "usual complete", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥:</b> <i>usual</i> ‡πÄ‡∏õ‡πá‡∏ô Adjective ‡∏Ç‡∏¢‡∏≤‡∏¢ Adjective ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Adverb (usually)" 
                    },
                    { 
                        text: "complete usual", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö:</b> Adjective ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á Noun ‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "__________, the professor explained the theory clearly.",
                options: [
                    { 
                        text: "During the lecture", 
                        correct: true, 
                        rationale: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏´‡∏•‡∏±‡∏Å‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏∑‡∏≠ <i>the professor (S) explained (V)...</i><br>‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏∑‡∏≠ <b>Prepositional Phrase (‡∏ö‡∏∏‡∏û‡∏ö‡∏ó‡∏ß‡∏•‡∏µ)</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ã‡∏∂‡πà‡∏á <i>During the lecture</i> ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á" 
                    },
                    { 
                        text: "The lecture", 
                        correct: false, 
                        rationale: "<b>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏ã‡πâ‡∏≠‡∏ô:</b> ‡∏ñ‡πâ‡∏≤‡πÉ‡∏™‡πà <i>The lecture</i> ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô 2 ‡∏ï‡∏±‡∏ß‡∏ä‡∏ô‡∏Å‡∏±‡∏ô (The lecture ‡∏Å‡∏±‡∏ö the professor) ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "Was the lecture", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏£‡∏π‡∏õ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ:</b> ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (Question) ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ö‡∏≠‡∏Å‡πÄ‡∏•‡πà‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "The lecture was", 
                        correct: false, 
                        rationale: "<b>Run-on Sentence:</b> ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î 2 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ä‡∏ô‡∏Å‡∏±‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "Solar panels convert sunlight into __________.",
                options: [
                    { 
                        text: "energy useful", 
                        correct: false, 
                        rationale: "<b>‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</b> Adjective (useful) ‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ Noun (energy) ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "useful energy", 
                        correct: true, 
                        rationale: "‡∏´‡∏•‡∏±‡∏á Preposition <i>into</i> ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏≤‡∏°‡∏ß‡∏•‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö<br>‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠: <b>Adjective (useful) + Noun (energy)</b> ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "usefully energy", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥:</b> <i>Usefully</i> ‡πÄ‡∏õ‡πá‡∏ô Adverb ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "energy usefully", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö:</b> ‡∏ï‡∏±‡∏ß‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ß‡∏≤‡∏á‡∏ú‡∏¥‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            },
            {
                question: "Many species of birds __________ south for the winter.",
                options: [
                    { 
                        text: "migration", 
                        correct: false, 
                        rationale: "<b>‡∏ú‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥:</b> <i>Migration</i> ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏° (Noun) ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ï‡πà‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ (Verb)" 
                    },
                    { 
                        text: "migrating", 
                        correct: false, 
                        rationale: "<b>‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ó‡πâ:</b> V-ing (migrating) ‡∏•‡∏≠‡∏¢‡πÜ ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ V.to be ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "migrate", 
                        correct: true, 
                        rationale: "‚Ä¢ ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠ <b>Many species</b> (‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå)<br>‚Ä¢ ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ Present Simple ‡∏à‡∏∂‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå (‡πÑ‡∏°‡πà‡πÄ‡∏ï‡∏¥‡∏° s) ‡∏Ñ‡∏∑‡∏≠ <b>migrate</b> ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    },
                    { 
                        text: "to migrate", 
                        correct: false, 
                        rationale: "<b>‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ó‡πâ:</b> Infinitive (to migrate) ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö" 
                    }
                ]
            }
        ];

        // State Management
        let currentQuestion = 0;
        let userAnswers = new Array(quizData.length).fill(null); // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (index)
        let isAnswered = new Array(quizData.length).fill(false); // ‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

        function initQuiz() {
            currentQuestion = 0;
            // Reset state
            userAnswers.fill(null);
            isAnswered.fill(false);
            
            document.getElementById('result-view').classList.add('hidden');
            document.getElementById('question-view').classList.remove('hidden');
            document.getElementById('footer-controls').classList.remove('hidden');
            document.getElementById('question-view').classList.add('fade-in');
            
            loadQuestion(0);
        }

        function loadQuestion(index) {
            currentQuestion = index;
            const data = quizData[currentQuestion];
            const answered = isAnswered[currentQuestion];
            const userChoice = userAnswers[currentQuestion];

            // 1. Update Header Info
            document.getElementById('question-count').innerText = `QUESTION ${currentQuestion + 1}/${quizData.length}`;
            
            // Calculate current score
            const currentScore = userAnswers.reduce((acc, ans, idx) => {
                if (ans !== null && quizData[idx].options[ans].correct) return acc + 1;
                return acc;
            }, 0);
            document.getElementById('score-display').innerText = currentScore;

            // 2. Render Question Text
            document.getElementById('question-text').innerHTML = data.question;
            
            // 3. Update Progress Bar
            const progress = ((currentQuestion) / quizData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;

            // 4. Render Options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            data.options.forEach((option, idx) => {
                const btn = document.createElement('button');
                btn.className = `option-btn w-full text-left p-4 rounded-xl border border-gray-200 focus:outline-none mb-1 bg-white text-gray-700 font-medium flex items-start gap-3`;
                
                // Add marker A, B, C, D
                const marker = `<span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-indigo-50 text-indigo-600 text-xs font-bold flex-shrink-0 mt-0.5">${String.fromCharCode(65 + idx)}</span>`;
                btn.innerHTML = `${marker} <span class="leading-relaxed">${option.text}</span>`;
                
                // Click handler
                btn.onclick = () => handleAnswer(idx);

                // If already answered, apply styles immediately
                if (answered) {
                    btn.disabled = true;
                    if (option.correct) {
                        btn.className = `w-full text-left p-4 rounded-xl border-2 border-green-500 bg-green-50 text-green-800 font-medium flex items-start gap-3 shadow-sm`;
                        btn.innerHTML = `<i class="ph-fill ph-check-circle text-2xl text-green-500 flex-shrink-0"></i> <span class="leading-relaxed">${option.text}</span>`;
                    } else if (idx === userChoice && !option.correct) {
                        btn.className = `w-full text-left p-4 rounded-xl border-2 border-red-400 bg-red-50 text-red-800 font-medium flex items-start gap-3 opacity-90`;
                        btn.innerHTML = `<i class="ph-fill ph-x-circle text-2xl text-red-500 flex-shrink-0"></i> <span class="leading-relaxed">${option.text}</span>`;
                    } else {
                        btn.className += ' opacity-50 grayscale';
                    }
                } else {
                    btn.classList.add('hover:bg-indigo-50', 'hover:border-indigo-300');
                }
                
                optionsContainer.appendChild(btn);
            });

            // 5. Feedback Area Logic
            const feedbackArea = document.getElementById('feedback-area');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackContent = document.getElementById('feedback-content');
            const feedbackHeader = document.getElementById('feedback-header');

            if (answered) {
                feedbackArea.classList.remove('hidden');
                feedbackArea.classList.add('fade-in');
                
                const isCorrect = quizData[currentQuestion].options[userChoice].correct;
                
                if (isCorrect) {
                    feedbackHeader.className = "p-4 bg-green-100 text-green-800 border-b border-green-200";
                    feedbackTitle.innerHTML = '<i class="ph-fill ph-check-circle"></i> ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! (Correct)';
                    feedbackContent.innerHTML = quizData[currentQuestion].options[userChoice].rationale;
                } else {
                    feedbackHeader.className = "p-4 bg-red-100 text-red-800 border-b border-red-200";
                    feedbackTitle.innerHTML = '<i class="ph-fill ph-warning-circle"></i> ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (Incorrect)';
                    
                    const correctOptionIndex = quizData[currentQuestion].options.findIndex(o => o.correct);
                    const correctRationale = quizData[currentQuestion].options[correctOptionIndex].rationale;
                    
                    // ‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: "‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠ [‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å] ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ [‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•]"
                    feedbackContent.innerHTML = `
                        <div>
                            <span class="font-bold text-green-700">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠ ${String.fromCharCode(65+correctOptionIndex)}</span> ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ ${correctRationale}
                        </div>
                    `;
                }

            } else {
                feedbackArea.classList.add('hidden');
            }

            // 6. Navigation Buttons Logic
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            // Previous Button
            if (currentQuestion > 0) {
                prevBtn.classList.remove('hidden');
                prevBtn.disabled = false;
            } else {
                prevBtn.classList.add('hidden');
            }

            // Next Button
            // Logic: Show Next only if answered.
            if (answered) {
                nextBtn.classList.remove('hidden');
                if (currentQuestion === quizData.length - 1) {
                    nextBtn.innerHTML = 'See Results <i class="ph-bold ph-chart-bar"></i>';
                } else {
                    nextBtn.innerHTML = 'Next <i class="ph-bold ph-arrow-right"></i>';
                }
            } else {
                nextBtn.classList.add('hidden');
            }
            
            // Scroll to top of content
            document.getElementById('content-area').scrollTop = 0;
        }

        function handleAnswer(selectedIndex) {
            // Save state
            userAnswers[currentQuestion] = selectedIndex;
            isAnswered[currentQuestion] = true;

            // Reload UI to show feedback state
            loadQuestion(currentQuestion);
            
            // Auto scroll to feedback (on mobile helpful)
            setTimeout(() => {
                 document.getElementById('content-area').scrollTo({
                    top: document.getElementById('content-area').scrollHeight,
                    behavior: 'smooth'
                });
            }, 100);
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion(currentQuestion);
            }
        }

        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                loadQuestion(currentQuestion);
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('question-view').classList.add('hidden');
            document.getElementById('footer-controls').classList.add('hidden');
            document.getElementById('result-view').classList.remove('hidden');
            
            const finalScore = userAnswers.reduce((acc, ans, idx) => {
                if (ans !== null && quizData[idx].options[ans].correct) return acc + 1;
                return acc;
            }, 0);

            document.getElementById('final-score').innerText = finalScore;
            document.getElementById('progress-bar').style.width = `100%`;

            const msgDiv = document.getElementById('message-result');
            if (finalScore === 10) {
                msgDiv.innerText = "‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î! ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡∏ô‡∏õ‡∏∂‡πâ‡∏Å! üéâ";
                msgDiv.className = "text-lg mb-4 font-bold text-green-600";
            } else if (finalScore >= 7) {
                msgDiv.innerText = "‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö üëç";
                msgDiv.className = "text-lg mb-4 font-bold text-indigo-600";
            } else {
                msgDiv.innerText = "‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏ó‡πâ‡∏≠! ‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö üí™";
                msgDiv.className = "text-lg mb-4 font-bold text-orange-600";
            }
        }

        function reviewAnswers() {
            // Switch back to question view, starting at Q1
            document.getElementById('result-view').classList.add('hidden');
            document.getElementById('question-view').classList.remove('hidden');
            document.getElementById('footer-controls').classList.remove('hidden');
            loadQuestion(0);
        }

        function restartQuiz() {
            initQuiz();
        }

        // Start App
        initQuiz();

    </script>
</body>
</html>